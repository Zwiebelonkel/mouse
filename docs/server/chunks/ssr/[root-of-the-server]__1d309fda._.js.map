{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-accent text-accent-foreground hover:bg-accent/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,CAAA,GAAA,gKAAA,CAAA,MAAG,AAAD,EACvB,4VACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAC5B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,gKAAA,CAAA,OAAI,GAAG;IAC9B,qBACE,8OAAC;QACC,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,OAAO,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 67, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG1B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,4DACA;QAED,GAAG,KAAK;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QAAI,KAAK;QAAK,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,YAAY;QAAa,GAAG,KAAK;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 172, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/store/milk.ts"],"sourcesContent":["import { create } from \"zustand\";\nimport { persist, createJSONStorage } from \"zustand/middleware\";\nimport { upgrades } from \"@/data/upgrades\";\n\n// Kostenformel\nconst costFormula = (base: number, level: number) =>\n  Math.floor(base * Math.pow(1.65, level));\n\nconst INITIAL_CLICKS_TO_MILK = 10;\n\nexport interface MilkState {\n  milkedCount: number;\n  totalMilkedCount: number;\n\n  clicksPerMilk: number;\n\n  comboDecayReduction: number;\n  maxMultiplierBonus: number;\n  baseMultiplierBonus: number;\n\n  passiveMilk: number;\n  lastPassiveTick: number;\n\n  clicksToMilk: number;\n\n  upgradeLevels: Record<string, number>;\n\n  increaseMilkedCount: () => void;\n  decreaseMilkedCount: (amount: number) => void;\n\n  increaseClicksToMilk: () => void;\n\n  buyUpgrade: (id: string) => boolean;\n}\n\nexport const useMilkStore = create<MilkState>()(\n  persist(\n    (set, get) => ({\n      milkedCount: 0,\n      totalMilkedCount: 0,\n\n      clicksPerMilk: 1,\n\n      comboDecayReduction: 0,\n      maxMultiplierBonus: 0,\n      baseMultiplierBonus: 0,\n\n      passiveMilk: 0,\n      lastPassiveTick: Date.now(),\n\n      clicksToMilk: INITIAL_CLICKS_TO_MILK,\n\n      upgradeLevels: Object.fromEntries(\n        Object.keys(upgrades).map((k) => [k, 0])\n      ),\n\n      increaseMilkedCount: () =>\n        set((state) => ({\n          milkedCount: state.milkedCount + 1,\n          totalMilkedCount: state.totalMilkedCount + 1,\n        })),\n\n      decreaseMilkedCount: (amount) =>\n        set((state) => ({\n          milkedCount: Math.max(0, state.milkedCount - amount),\n        })),\n\n      increaseClicksToMilk: () =>\n        set((state) => ({\n          clicksToMilk: Math.ceil(state.clicksToMilk * 1.15),\n        })),\n\n      buyUpgrade: (id) => {\n        const state = get();\n        const upg = upgrades[id];\n        const level = state.upgradeLevels[id];\n        const cost = costFormula(upg.baseCost, level);\n\n        if (state.milkedCount < cost) return false;\n        if (level >= upg.maxLevel) return false;\n\n        set((s) => ({\n          milkedCount: s.milkedCount - cost,\n          ...upg.effect(s),\n          upgradeLevels: {\n            ...s.upgradeLevels,\n            [id]: level + 1,\n          },\n        }));\n\n        return true;\n      },\n    }),\n    {\n      name: \"milk-storage\",\n      storage: createJSONStorage(() => localStorage),\n    }\n  )\n);"],"names":[],"mappings":";;;AAAA;AACA;;;;;;;;;AAGA,eAAe;AACf,MAAM,cAAc,CAAC,MAAc,QACjC,KAAK,KAAK,CAAC,OAAO,KAAK,GAAG,CAAC,MAAM;AAEnC,MAAM,yBAAyB;AA2BxB,MAAM,eAAe,CAAA,GAAA,wIAAA,CAAA,SAAM,AAAD,IAC/B,CAAA,GAAA,6IAAA,CAAA,UAAO,AAAD,EACJ,CAAC,KAAK,MAAQ,CAAC;QACb,aAAa;QACb,kBAAkB;QAElB,eAAe;QAEf,qBAAqB;QACrB,oBAAoB;QACpB,qBAAqB;QAErB,aAAa;QACb,iBAAiB,KAAK,GAAG;QAEzB,cAAc;QAEd,eAAe,OAAO,WAAW,CAC/B,OAAO,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC,IAAM;gBAAC;gBAAG;aAAE;QAGzC,qBAAqB,IACnB,IAAI,CAAC,QAAU,CAAC;oBACd,aAAa,MAAM,WAAW,GAAG;oBACjC,kBAAkB,MAAM,gBAAgB,GAAG;gBAC7C,CAAC;QAEH,qBAAqB,CAAC,SACpB,IAAI,CAAC,QAAU,CAAC;oBACd,aAAa,KAAK,GAAG,CAAC,GAAG,MAAM,WAAW,GAAG;gBAC/C,CAAC;QAEH,sBAAsB,IACpB,IAAI,CAAC,QAAU,CAAC;oBACd,cAAc,KAAK,IAAI,CAAC,MAAM,YAAY,GAAG;gBAC/C,CAAC;QAEH,YAAY,CAAC;YACX,MAAM,QAAQ;YACd,MAAM,MAAM,QAAQ,CAAC,GAAG;YACxB,MAAM,QAAQ,MAAM,aAAa,CAAC,GAAG;YACrC,MAAM,OAAO,YAAY,IAAI,QAAQ,EAAE;YAEvC,IAAI,MAAM,WAAW,GAAG,MAAM,OAAO;YACrC,IAAI,SAAS,IAAI,QAAQ,EAAE,OAAO;YAElC,IAAI,CAAC,IAAM,CAAC;oBACV,aAAa,EAAE,WAAW,GAAG;oBAC7B,GAAG,IAAI,MAAM,CAAC,EAAE;oBAChB,eAAe;wBACb,GAAG,EAAE,aAAa;wBAClB,CAAC,GAAG,EAAE,QAAQ;oBAChB;gBACF,CAAC;YAED,OAAO;QACT;IACF,CAAC,GACD;IACE,MAAM;IACN,SAAS,CAAA,GAAA,6IAAA,CAAA,oBAAiB,AAAD,EAAE,IAAM;AACnC","debugId":null}},
    {"offset": {"line": 239, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useRef } from 'react';\nimport { Button } from '@/components/ui/button';\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from '@/components/ui/card';\nimport { Rat, ShoppingCart, RefreshCcw, Milk } from 'lucide-react';\nimport Link from 'next/link';\nimport { useMilkStore } from '@/store/milk';\nimport confetti from \"canvas-confetti/dist/confetti.module.mjs\";\n\n// =============================================================\n// iPHONE AUDIO UNLOCK\n// =============================================================\nfunction unlockIOSAudio() {\n  const empty = new Audio();\n  empty.play().catch(() => {});\n}\n\n// =============================================================\n// GLOBAL EXCLUSIVE AUDIO CHANNEL\n// =============================================================\nconst exclusiveChannel = {\n  current: null as HTMLAudioElement | null,\n\n  stop() {\n    if (this.current) {\n      this.current.pause();\n      this.current.currentTime = 0;\n      this.current = null;\n    }\n  },\n\n  play(audio: HTMLAudioElement) {\n    this.stop();\n    this.current = audio;\n    audio.play();\n  }\n};\n\n// =============================================================\n// SOUND ENGINE\n// =============================================================\nfunction useSoundPool(\n  paths: string[],\n  getPlaybackRate?: () => number,\n  exclusive: boolean = false\n) {\n  const poolRef = useRef<HTMLAudioElement[]>([]);\n  const loadedRef = useRef(false);\n\n  const loadAudio = () => {\n    if (loadedRef.current) return;\n    loadedRef.current = true;\n\n    poolRef.current = paths.map((p) => {\n      const audio = new Audio(p);\n      audio.load();\n      return audio;\n    });\n  };\n\n  // Laden erst nach echter User-Interaktion (iPhone-tauglich)\n  useEffect(() => {\n    const enable = () => {\n      loadAudio();\n      window.removeEventListener(\"touchstart\", enable);\n      window.removeEventListener(\"mousedown\", enable);\n    };\n\n    window.addEventListener(\"touchstart\", enable, { once: true });\n    window.addEventListener(\"mousedown\", enable, { once: true });\n\n    return () => {\n      window.removeEventListener(\"touchstart\", enable);\n      window.removeEventListener(\"mousedown\", enable);\n    };\n  }, []);\n\n  const play = () => {\n    if (!loadedRef.current || poolRef.current.length === 0) return;\n\n    const base =\n      poolRef.current[Math.floor(Math.random() * poolRef.current.length)];\n\n    const audio = base.cloneNode(true) as HTMLAudioElement;\n\n    if (getPlaybackRate) audio.playbackRate = getPlaybackRate();\n\n    if (exclusive) {\n      exclusiveChannel.play(audio);\n    } else {\n      audio.play(); // overlapping allowed\n    }\n  };\n\n  return play;\n}\n\n// =============================================================\n// SOUND LISTS\n// =============================================================\nconst startSounds = [\n  '/mouse/sounds/start1.mp3',\n  '/mouse/sounds/start2.mp3',\n  '/mouse/sounds/start3.mp3',\n  '/mouse/sounds/start4.mp3',\n  '/mouse/sounds/start5.mp3',\n];\n\nconst successSounds = [\n  '/mouse/sounds/sucess.mp3',\n  '/mouse/sounds/sucess2.mp3',\n  '/mouse/sounds/sucess3.mp3',\n  '/mouse/sounds/sucess4.mp3',\n  '/mouse/sounds/sucess5.mp3',\n  '/mouse/sounds/sucess6.mp3',\n];\n\n// Finish → overlapping\nconst finishSounds = ['/mouse/sounds/finish1.wav'];\nconst mouseSound = ['/mouse/sounds/mouse.wav'];\n\nconst warningSounds = [\n  '/mouse/sounds/warning.mp3',\n  '/mouse/sounds/warning1.mp3',\n  '/mouse/sounds/warning2.mp3',\n  '/mouse/sounds/warning3.mp3',\n  '/mouse/sounds/warning4.mp3',\n  '/mouse/sounds/warning5.mp3',\n  '/mouse/sounds/warning6.mp3',\n  '/mouse/sounds/warning7.mp3',\n  '/mouse/sounds/warning8.mp3',\n];\n\nexport default function Home() {\n\n  // =============================================================\n  // DYNAMIC PITCH\n  // =============================================================\n  const getDeepPitch = () => {\n    const { totalMilkedCount } = useMilkStore.getState();\n    return Math.max(0.7, 1 - totalMilkedCount * 0.005);\n  };\n\n  // =============================================================\n  // SOUND POOLS\n  // =============================================================\n  const playStartSound   = useSoundPool(startSounds, getDeepPitch, true);\n  const playSuccessSound = useSoundPool(successSounds, getDeepPitch, true);\n  const playWarningSound = useSoundPool(warningSounds, getDeepPitch, true);\n\n  // Overlapping allowed:\n  const playClickSound   = useSoundPool(['/mouse/sounds/click.mp3'], undefined, false);\n  const playFinishSound  = useSoundPool(finishSounds, undefined, false);\n  const playMouseSound   = useSoundPool(mouseSound, undefined, false);\n\n  // =============================================================\n  // STATE\n  // =============================================================\n  const [clicks, setClicks] = useState(0);\n  const {\n    milkedCount,\n    totalMilkedCount,\n    increaseMilkedCount,\n    clicksPerMilk,\n    clicksToMilk,\n    increaseClicksToMilk,\n  } = useMilkStore();\n\n  const [isMounted, setIsMounted] = useState(false);\n  const [isFlipped, setIsFlipped] = useState(false);\n  const [hasMilkedThisRound, setHasMilkedThisRound] = useState(false);\n\n  const warningTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n\n  // =============================================================\n  // SCREENSHAKE\n  // =============================================================\n  const [isShaking, setIsShaking] = useState(false);\n  const triggerShake = () => {\n    setIsShaking(true);\n    setTimeout(() => setIsShaking(false), 150);\n  };\n\n  // =============================================================\n  // COMBO SYSTEM\n  // =============================================================\n  const [multiplier, setMultiplier] = useState(1);\n  const [comboTimeout, setComboTimeout] = useState<NodeJS.Timeout | null>(null);\n  const [comboProgress, setComboProgress] = useState(1);\n\n  const comboTimeWindow = 150;\n\n  const increaseMultiplier = () => {\n    setMultiplier((prev) => {\n      if (prev >= 2) return 2;\n      if (prev < 1.1) return 1.1;\n      if (prev < 1.25) return 1.25;\n      if (prev < 1.5) return 1.5;\n      return 2;\n    });\n    setComboProgress(1);\n  };\n\n  const resetMultiplier = () => {\n    setMultiplier(1);\n    setComboProgress(0);\n  };\n\n  useEffect(() => {\n    if (multiplier === 1) return;\n\n    const interval = setInterval(() => {\n      setComboProgress((prev) => {\n        const next = prev - 0.02;\n        if (next <= 0) {\n          resetMultiplier();\n          return 0;\n        }\n        return next;\n      });\n    }, comboTimeWindow / 50);\n\n    return () => clearInterval(interval);\n  }, [multiplier]);\n\n  // =============================================================\n  // CONFETTI EFFECTS\n  // =============================================================\n  const fireMiniMilkParticles = () => {\n    confetti({\n      particleCount: 10,\n      spread: 180,\n      startVelocity: 25,\n      gravity: 1,\n      ticks: 80,\n      colors: ['#ffffff'],\n      shapes: ['circle'],\n      origin: { y: 0.5 },\n    });\n  };\n\n  const fireMilkConfetti = () => {\n    confetti({\n      particleCount: 50,\n      spread: 60,\n      startVelocity: 30,\n      gravity: 0.8,\n      ticks: 180,\n      colors: ['#ffffff'],\n      shapes: ['circle'],\n      origin: { y: 0.6 },\n    });\n  };\n\n  // =============================================================\n  // EFFECTS\n  // =============================================================\n  useEffect(() => {\n    const audio = new Audio('/mouse/sounds/theme.mp3');\n    audio.loop = true;\n    audio.volume = 0.2;\n    audio.play();\n\n    return () => {\n      audio.pause();\n    };\n  }, []);\n\n  useEffect(() => {\n    setIsMounted(true);\n\n    const unlock = () => {\n      unlockIOSAudio();\n      window.removeEventListener(\"touchstart\", unlock);\n      window.removeEventListener(\"mousedown\", unlock);\n    };\n\n    window.addEventListener(\"touchstart\", unlock, { once: true });\n    window.addEventListener(\"mousedown\", unlock, { once: true });\n\n    return () => {\n      window.removeEventListener(\"touchstart\", unlock);\n      window.removeEventListener(\"mousedown\", unlock);\n    };\n  }, []);\n\n  // Erfolgssound + Finishsound\n  useEffect(() => {\n    if (clicks >= clicksToMilk && clicks > 0 && !hasMilkedThisRound) {\n      playSuccessSound();   // exklusiv\n      playFinishSound();    // overlapping\n    }\n  }, [clicks, clicksToMilk, hasMilkedThisRound]);\n\n  // Erfolg → Milch + Effekte\n  useEffect(() => {\n    if (clicks >= clicksToMilk && clicks > 0 && !hasMilkedThisRound) {\n      increaseMilkedCount();\n      setHasMilkedThisRound(true);\n\n      fireMilkConfetti();\n      triggerShake();\n    }\n  }, [clicks, clicksToMilk, hasMilkedThisRound, increaseMilkedCount]);\n\n  // =============================================================\n  // WARNING TIMER\n  // =============================================================\n  const resetWarningTimeout = () => {\n    if (warningTimeoutRef.current) clearTimeout(warningTimeoutRef.current);\n\n    warningTimeoutRef.current = setTimeout(() => {\n      playWarningSound();\n    }, 8000);\n  };\n\n  useEffect(() => {\n    resetWarningTimeout();\n    return () => {\n      if (warningTimeoutRef.current) clearTimeout(warningTimeoutRef.current);\n    };\n  }, []);\n\n  // =============================================================\n  // CLICK LOGIC\n  // =============================================================\n  const handleMouseClick = () => {\n    if (clicks < clicksToMilk) {\n      playClickSound();\n\n      if (Math.random() < 0.1) {\n        playMouseSound();\n      }\n\n      if (comboTimeout) clearTimeout(comboTimeout);\n      increaseMultiplier();\n\n      const to = setTimeout(() => resetMultiplier(), comboTimeWindow);\n      setComboTimeout(to);\n\n      fireMiniMilkParticles();\n\n      setClicks((prev) => prev + clicksPerMilk * multiplier);\n\n      setIsFlipped((prev) => !prev);\n      resetWarningTimeout();\n    }\n  };\n\n  const handlePlayAgain = () => {\n    playStartSound();\n    setClicks(0);\n    setHasMilkedThisRound(false);\n    increaseClicksToMilk();\n    resetMultiplier();\n    resetWarningTimeout();\n  };\n\n  // Spacebar\n  useEffect(() => {\n    const handler = (e: KeyboardEvent) => {\n      if (e.code === \"Space\") handleMouseClick();\n    };\n    window.addEventListener(\"keydown\", handler);\n    return () => window.removeEventListener(\"keydown\", handler);\n  });\n\n  const milked = clicks >= clicksToMilk;\n  const progress = isMounted ? Math.min(clicks / clicksToMilk, 1) : 0;\n\n  const mouseGlow =\n    multiplier >= 2\n      ? \"drop-shadow-[0_0_25px_rgba(255,255,255,0.9)] animate-pulse\"\n      : multiplier >= 1.5\n      ? \"drop-shadow-[0_0_15px_rgba(255,255,255,0.7)]\"\n      : \"\";\n\n  // =============================================================\n  // RENDER\n  // =============================================================\n  return (\n    <main className=\"flex h-screen flex-col items-center justify-center bg-background p-4 font-body overflow-hidden\">\n\n      {/* SHOP BUTTON */}\n      <div className=\"fixed top-4 right-4 z-[20]\">\n        <Link href=\"/shop\">\n          <Button>\n            <ShoppingCart className=\"h-6 w-6\" />\n          </Button>\n        </Link>\n      </div>\n\n      {/* MILK CONTAINER */}\n      <div className=\"fixed bottom-4 right-4 z-[999] h-48 w-10 rounded-lg border-4 border-gray-400 bg-gray-200/50 backdrop-blur-sm flex flex-col justify-end overflow-hidden\">\n        <div\n          className=\"bg-white transition-all duration-500 ease-in-out\"\n          style={{ height: `${progress * 100}%` }}\n        ></div>\n\n        <div className=\"absolute inset-0 flex items-center justify-center\">\n          <span className=\"text-xs font-bold text-muted-foreground\">\n            {isMounted ? milkedCount : 0}\n          </span>\n        </div>\n      </div>\n\n      {/* GAME AREA */}\n      <div className={`game-area ${isShaking ? \"screenshake\" : \"\"}`}>\n        <Card className=\"w-full max-w-sm text-center shadow-2xl relative z-[10]\">\n          <CardHeader>\n            <CardTitle className=\"text-accent flex items-center justify-center gap-2 text-4xl font-bold font-headline\">\n              <Rat className=\"h-8 w-8\" /> Mouse Milker\n            </CardTitle>\n            <CardDescription>\n              {milked\n                ? \"You did it!\"\n                : `Bitte melken Sie die Maus (Mäuse gemolken: ${totalMilkedCount})`}\n            </CardDescription>\n          </CardHeader>\n\n          <CardContent className=\"flex flex-col items-center justify-center p-6\">\n            {milked ? (\n              <div className=\"flex flex-col items-center gap-6\">\n                <div className=\"rounded-xl bg-accent p-6 shadow-inner\">\n                  <p className=\"flex items-center gap-2 text-2xl font-bold text-accent-foreground\">\n                    <Milk className=\"h-6 w-6\" /> Du hast die Maus gemolken!\n                  </p>\n                </div>\n                <Button onClick={handlePlayAgain} size=\"lg\">\n                  <RefreshCcw className=\"mr-2 h-4 w-4\" /> Erneut melken\n                </Button>\n              </div>\n            ) : (\n              <div className=\"flex flex-col items-center gap-4\">\n\n                <button\n                  onMouseDown={handleMouseClick}\n                  className=\"cursor-pointer rounded-full p-4 transition-transform duration-150 ease-in-out active:scale-90\"\n                >\n                  <Rat\n                    className={`h-40 w-40 transition-transform duration-200 ${\n                      isFlipped ? \"scale-x-[-1]\" : \"\"\n                    } ${mouseGlow}`}\n                  />\n                </button>\n\n                {/* Combo Bar */}\n                <div className=\"w-40 h-2 bg-accent/20 rounded-full overflow-hidden mt-1\">\n                  <div\n                    className=\"h-full bg-accent transition-all\"\n                    style={{ width: `${comboProgress * 100}%` }}\n                  ></div>\n                </div>\n\n                <p className=\"text-sm text-muted-foreground mt-1\">\n                  {multiplier.toFixed(2)}× Combo\n                </p>\n\n                <div className=\"text-center\">\n                  <p className=\"text-5xl font-bold text-foreground\">\n                    {Math.floor(clicks)}\n                  </p>\n                  <p className=\"mt-1 text-sm text-muted-foreground\">\n                    {clicks === 0\n                      ? `Click the mouse ${clicksToMilk} times!`\n                      : `${clicksToMilk - clicks > 0 ? Math.round(clicksToMilk - clicks) : 0} more clicks to go!`}\n                  </p>\n                </div>\n              </div>\n            )}\n          </CardContent>\n        </Card>\n      </div>\n    </main>\n  );\n}"],"names":[],"mappings":"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","debugId":null}}]
}